"use strict";angular.module("coffeeSelectorApp",["ngAnimate","ngRoute","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("coffeeSelectorApp").controller("MainCtrl",["$scope","$interval","$timeout",function(a,b,c){a.init=function(){a.showButton=!1,a.initialized=!1,a.spinner=!1,a.result=!1,c(function(){var c=angular.fromJson(localStorage.getItem("pessoas"))||[];if(a.pessoas=[],c.length>0){var d=0;b(function(){a.pessoas.push(c[d]),d++,d===c.length&&(a.showButton=!0)},100,c.length)}},100),a.pessoa={},c(function(){a.initialized=!0},250)},a.init(),a.addNome=function(){a.showButton=!0,a.pessoa.uid=(new Date).getTime(),a.pessoas.push(a.pessoa),a.pessoa={}},a.remove=function(b){a.pessoas.splice(b,1),0===a.pessoas.length&&(a.showButton=!1)},a.calcular=function(){console.log(a.pessoas),localStorage.setItem("pessoas",angular.toJson(a.pessoas)),a.items=angular.copy(a.pessoas),a.showButton=!1;var d=0;b(function(){a.pessoas.pop(),d++,d===a.items.length&&c(function(){a.process()},500)},100,a.items.length)},a.shuffle=function(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a},a.process=function(){a.items=a.shuffle(a.items),a.items=a.shuffle(a.items),a.items=a.shuffle(a.items),a.items=a.shuffle(a.items),a.items=a.shuffle(a.items),a.spinner=!0;for(var b=0,d=100,e=0;50>e;e++)d=1.1*d,c(function(){b++,50===b?(a.spinner=!1,a.result=!0,a.sortudo=a.transient):a.transient=a.items[Math.floor(Math.random()*a.items.length)].nome},d)},a.repeat=function(){a.init()}}]);